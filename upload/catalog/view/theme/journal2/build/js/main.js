function addToCart(e,t){return!$(".hide-cart .outofstock a[onclick=\"addToCart('"+e+"');\"]").length&&(t="undefined"!=typeof t?t:1,Journal.isOC2?cart.add(e,t):void $.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"product_id="+e+"&quantity="+t,dataType:"json",success:function(e){$(".success, .warning, .attention, .information, .error").remove(),e.redirect&&(location=e.redirect),e.success&&(Journal.showNotification(e.success,e.image,!0)||$("#notification").html('<div class="success" style="display: none;">'+e.success+'<img src="catalog/view/theme/default/image/close.png" alt="" class="close" /></div>'),$(".success").fadeIn("slow"),Journal.scrollToTop&&$("html, body").animate({scrollTop:0},"slow"),$("#cart-total").html(e.total))}}))}function addToWishList(e){return Journal.isOC2?wishlist.add(e):void $.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+e,dataType:"json",success:function(e){if($(".success, .warning, .attention, .information").remove(),e.success){Journal.showNotification(e.success,e.image)||$("#notification").html('<div class="success" style="display: none;">'+e.success+'<img src="catalog/view/theme/default/image/close.png" alt="" class="close" /></div>'),$(".success").fadeIn("slow");try{$(".wishlist-total .product-count").html(e.total.match(/\(\d+\)/g)[0].replace("(","").replace(")",""))}catch(e){}Journal.scrollToTop&&$("html, body").animate({scrollTop:0},"slow")}}})}function addToCompare(e){return Journal.isOC2?compare.add(e):void $.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+e,dataType:"json",success:function(e){if($(".success, .warning, .attention, .information").remove(),e.success){Journal.showNotification(e.success,e.image)||$("#notification").html('<div class="success" style="display: none;">'+e.success+'<img src="catalog/view/theme/default/image/close.png" alt="" class="close" /></div>'),$(".success").fadeIn("slow");try{$("#compare-total").html(e.total),$(".compare-total .product-count").html(e.total.match(/\(\d+\)/g)[0].replace("(","").replace(")",""))}catch(e){}Journal.scrollToTop&&$("html, body").animate({scrollTop:0},"slow")}}})}!function(){var e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=$("<div>").css({width:"100%"}).appendTo(e).outerWidth();e.remove();var a=100-t,i=null,n=null;$("html").hasClass("responsive-layout")?$(window).resize(function(){var e=$(window).width()+a;if(n=e<=760?"mobile":e<=980?"tablet":"desktop",i!==n)switch(i=n,n){case"mobile":Journal.onMobile();break;case"tablet":Journal.onTablet();break;case"desktop":Journal.onDesktop()}}):Journal.onDesktop()}(),function(){var e=null;$(window).resize(function(){clearTimeout(e),e=setTimeout(function(){$(".drop-down > ul a").unbind("mouseenter").mouseenter(function(){var e=$(this).parent(),t=$(">ul",e);t.length&&!e.hasClass("left")&&e.width()+t.offset().left>$(window).width()&&e.addClass("left")}),$("#cart").removeClass("active"),$(".mobile-trigger").removeClass("menu-open"),Journal.itemsEqualHeight()},300)})}(),$(window).load(function(){$("img.lazy").lazy({bind:"event",visibleOnly:!1,effect:"fadeIn",effectTime:250})}),function(){var e=$(".android.tablet .super-menu > li > a");e.length&&e.click(function(t){e.not(this).removeClass("clicked"),$(this).toggleClass("clicked"),$(this).hasClass("clicked")&&event.preventDefault()}),$('.mobile-menu a:not([href]), .mobile-menu a[href="javascript:;"]').live("click",function(){$(this).parent().find("> .mobile-plus").trigger("click")}),$(".modal").appendTo($("body"))}();var Journal={};Journal.isMobile=$("html").hasClass("mobile")||$("html").hasClass("tablet"),Journal.isOC2=$("html").hasClass("oc2"),Journal.mobileMenuOnTablet=$("html").hasClass("mobile-menu-on-tablet"),Journal.notificationTimer=1700,Journal.stickyTopSpacing=40,Journal.quickviewText="Quickview",Journal.BASE_HREF=null,Journal.updatePrice=!1,Journal.scrollToTop=!0,Journal.init=function(){$(".journal-menu .drop-down").each(function(){$("ul",this).css("min-width",$(this).width())});var e=$(".journal-currency .dropdown-menu");e.css({left:"50%","margin-left":"-"+e.width()/2+"px"}),$(".product-grid-item .image > a").prepend('<div class="p-over p-grid-over"> </div>'),$(".product-list-item .image > a").prepend('<div class="p-over p-list-over"> </div>'),$("#top-modules .hide-on-mobile, #bottom-modules .hide-on-mobile").each(function(){$(this).parent().addClass("hide-on-mobile")})},Journal.setupMenu=function(e){var t=$(".super-menu > li"),a=$(".mobile-trigger"),i=$(".mobile-menu > li .mobile-plus"),n=$(".mega-menu-categories .mega-menu-item li");try{$(".super-menu")[0].style.removeProperty("display")}catch(e){}t.unbind("mouseenter").unbind("mouseleave").removeProp("hoverIntent_t").removeProp("hoverIntent_s"),a.unbind("click"),i.unbind("click"),n.unbind("hover"),"mobile"===e&&(jQuery._data($(".mobile-menu")[0],"olddisplay","block"),a.toggle(function(){$(".mobile-menu").stop(!0,!0).slideDown(250),$(this).addClass("menu-open")},function(){$(".mobile-menu").stop(!0,!0).slideUp(150),$(this).removeClass("menu-open")}),i.toggle(function(){$("> ul, > div",$(this).parent()).stop(!0,!0).slideDown(250),$(this).html("-").parent().addClass("menu-open")},function(){$("> ul, > div",$(this).parent()).stop(!0,!0).slideUp(150),$(this).html("+").parent().removeClass("menu-open")})),"tablet"!==e&&"desktop"!==e||(jQuery._data($(".mobile-menu")[0],"olddisplay","table"),t.hoverIntent(function(){var e=this;$("> ul, > div",this).hide(),$("> ul, > div",this).stop(!0,!0).slideDown(250,function(){$("img.lazy",e).lazy({bind:"event",visibleOnly:!1,effect:"fadeIn",effectTime:250})})},function(){$("> ul, > div",this).stop(!0,!0).slideUp(150)}),n.hover(function(){$(this).closest(".mega-menu-item").find("img").attr("src",$(this).attr("data-image"))},function(){var e=$(this).closest(".mega-menu-item").find("img");e.attr("src",e.attr("data-default-src"))}))},Journal.equalHeight=function(e,t,a){if(!Journal.isMobile){var i,n,o=0,r=0,l=[],s=0;a=a||0,e.each(function(){try{if(i=t?$(this).find(t):$(this),i.height("auto"),s=i.position().top,r!==s){for(n=0;n<l.length;n++)l[n].height(o);l=[],r=s,o=i.actual("height"),l.push(i)}else l.push(i),o=o<i.actual("height")?i.actual("height"):o;for(n=0;n<l.length;n++)l[n].height(o+a)}catch(e){}})}},Journal.itemsEqualHeight=function(){Journal.equalHeight($("footer .column")),$(".mega-menu").addClass("dummy-hide"),$(".mega-menu-categories").each(function(){Journal.equalHeight($(this).find(".mega-menu-item"))}),$(".mega-menu-products").each(function(){Journal.equalHeight($(this).find(".mega-menu-item"),".name")}),$(".mega-menu").removeClass("dummy-hide"),$("#content .product-grid, #top-modules .product-grid, #bottom-modules .product-grid").each(function(){Journal.equalHeight($(this).find(".product-grid-item"),".name")}),$("#content .box-product, #top-modules .box-product, #bottom-modules .box-product").each(function(){Journal.equalHeight($(this).find(".product-grid-item"),".name")}),Journal.equalHeight($(".refine-images .refine-image"),".refine-category-name"),$(".box.cms-blocks").each(function(){var e=$(this);Journal.equalHeight(e.find(".cms-block"),".block-content")})},Journal.changeProductImage=function(e,t){t=t||e;var a=$("#image");a.attr("src",t),a.parent().attr("href",t),a.data("imagezoom")&&(a.attr("data-largeimg",t),a.data("imagezoom").changeImage(t,t))},Journal.enableCloudZoom=function(e){var t=$("#image");t.ImageZoom({showDescription:!1,bigImageSrc:t.attr("data-largeimg"),type:e,offset:[0,0],zoomSize:[t.width(),t.height()]}),$(window).resize(function(){Journal.cloudZoomTimeout&&clearTimeout(Journal.cloudZoomTimeout),Journal.cloudZoomTimeout=setTimeout(function(){t.data("imagezoom")&&t.data("imagezoom").changeZoomSize(t.width(),t.height())},100)})},Journal.productPage=function(){$(".product-info .image-additional a").click(function(e){e.preventDefault();var t=$(this).find("img").attr("src"),a=$(this).attr("href");return Journal.changeProductImage(t,a),!1})},Journal.productPageGallery=function(){$("html").hasClass("quickview")||($(".product-info .image-gallery .swipebox").swipebox(),$(".zm-viewer").live("click",function(){var e=$(this).find("img").not(".zm-fast").attr("src");return $('.product-info .image-gallery a.swipebox[href="'+e+'"]').first().click(),!1}),$("#image").parent().click(function(){return $('.product-info .image-gallery a.swipebox[href="'+$(this).attr("href")+'"]').first().click(),!1}),$(".gallery-text").click(function(){return $(".product-info .image-gallery a.swipebox").first().click(),!1}))},Journal.updateProductPrice=function(){$.ajax({url:"index.php?route=journal2/ajax/price",type:"post",data:$(".product-info input[type='text'], .product-info input[type='hidden'], .product-info input[type='radio']:checked, .product-info input[type='checkbox']:checked, .product-info select, .product-info textarea"),dataType:"json",success:function(e){if($(".product-info .price .price-old, .product-info .price .product-price").html(e.price),$(".product-info .price .price-new").html(e.special),$(".product-info .price .price-tax").html(e.tax),$(".description .journal-stock").removeClass("outofstock").removeClass("instock").addClass(e.cls).html(e.stock),$(".product-info .price .reward small").html(e.points),Journal.isOC2)$(".product-info .discounts").each(function(t){$(this).html(e.discounts[t])});else{var t="";$.each(e.discounts,function(e,a){t+=a+"<br />"}),$(".discount").html(t)}}})},Journal.enableProductOptions=function(){$("html").hasClass("product-page")&&($(".product-info .options:not(.push-select) .option select").change(function(){Journal.updateProductPrice()}),$('.product-info .options:not(.push-radio) .option input[type="radio"]').click(function(){Journal.updateProductPrice()}),$('.product-info .options:not(.push-checkbox) .option input[type="checkbox"]').click(function(){Journal.updateProductPrice()}))},Journal.showNotification=function(e,t,a){$.pnotify.defaults.history=!1;var i=$("<div>"+e+"</div>"),n=i.find("a").first().attr("href"),o=t?'<a href="'+n+'"><img src="'+t+'" alt="" /></a>':"",r=i.find("a").last().prev(),l=Journal.notificationTimer,s=$;return s.pnotify({title:r.html(),delay:parseInt(l,10),text:o+e+(a?Journal.NOTIFICATION_BUTTONS:""),type:"success",history:!1}),$(".ui-pnotify-text a").die("click touchend").live("click touchend",function(){var e=$(this),t=e.attr("href");location=t}),!0},Journal.enableQuickView=function(){$(".quickview-button").remove(),$(".product-wrapper .image, .product-list-item .image").each(function(){var e=$('<div class="quickview-button"><a class="button hint--top" data-hint="'+Journal.quickviewText+'"><i class="button-left-icon"></i><span class="button-cart-text">'+Journal.quickviewText+'</span><i class="button-right-icon"></i></a></div>');$(this).prepend(e);var t=e.find("a"),a=$(this).closest(".product-list-item");0===a.length&&(a=$(this).closest(".product-wrapper"));var i=a.find(".cart .button"),n=i.attr("onclick")||i.attr("data-clk");n&&(n=n.match(/'(.*?)'/g),n&&n[0]&&(n=n[0],n=n.replace("'",""),n=parseInt(n,10),t.attr("href","index.php?route=journal2/quickview&pid="+n),t.magnificPopup({preloader:!0,tLoading:"",type:"iframe",mainClass:"quickview",removalDelay:200,callbacks:{open:function(e){var t=$("html").scrollTop()?$("html").scrollTop():$("body").scrollTop();$("html").addClass("noscroll").css("top",-t),$("html").addClass("has-quickview").css("top",-t)},close:function(e){var t=parseInt($("html").css("top"));$("html").removeClass("noscroll"),$("html").removeClass("has-quickview").css("top",-t),$("html,body").scrollTop(-t)}}})))})},Journal.searchAutoComplete=function(){$("#search input").autocomplete2({appendTo:".journal-search > div",width:"100%",serviceUrl:"index.php?route=journal2/search",deferRequestBy:500,paramName:"search",onSelect:function(e){return!!e.url&&void(location=e.url)},transformResult:function(e){e=$.parseJSON(e);var t=$.map(e.results,function(e){return{value:e.name,data:e,image:e.image,price:e.price,special:e.special,url:e.url}});return e.view_more_url?t.push({view_more:!0,value:e.view_more_text,url:e.view_more_url}):t.push({view_more:!0,value:e.view_more_text,url:e.view_more_url}),{suggestions:t}},formatResult:function(e,t){if(e.view_more)return e.url?'<a class="view-more-link" href="'+e.url+'">'+e.value+"</a>":'<a class="no-results">'+e.value+"</a>";var a=e.value,i='<a href="'+e.url+'">';return e.image&&(i+='<span class="p-image xs-33 sm-33 md-33 lg-33 xl-33"><img src="'+e.image+'" /></span>'),i+='<span class="p-name xs-66 sm-66 md-66 lg-66 xl-66"><span>'+a+"</span>",e.price&&(i+=e.special?'<span class="p-price xs-66 sm-66 md-66 lg-66 xl-66"><span class="price-old">'+e.price+'</span><span class="price-new">'+e.special+"</span></span>":'<span class="p-price xs-66 sm-66 md-66 lg-66 xl-66">'+e.price+"</span>"),i+="</span>",i+='<div class="clearfix"> </div>',i+="</a>"}})},Journal.onMobileOrTablet=function(){$(".btn-group").unbind("click").unbind("hoverIntent").click(function(){$(".btn-group").not($(this)).removeClass("visible").find("ul").fadeOut(150),$(this).toggleClass("visible"),$(this).hasClass("visible")?$(this).find("ul").fadeIn(150):$(this).find("ul").fadeOut(150)}),$("#cart > .heading a").die("mouseleave").die("mouseover").die("mouseleave").die("click"),$("#cart > .heading a").live("click",function(){$("#cart").hasClass("active")?$("#cart").removeClass("active"):(Journal.isOC2||$("#cart").load("index.php?route=module/cart #cart > *"),$("#cart").addClass("active"))}),$("header").addClass("sticky-off"),$("header").removeClass("sticky-header-center").removeClass("sticky-header")},Journal.onMobile=function(){Journal.setupMenu("mobile"),Journal.onMobileOrTablet(),$("html").addClass("journal-mobile").removeClass("journal-desktop"),$(".journal-header-default .journal-search, .journal-header-menu .journal-search").after($(".journal-header-default .journal-cart, .journal-header-menu .journal-cart")),$(".journal-header-center .journal-links").before($(".journal-header-center .journal-language")),$(".journal-header-center .journal-logo").after($(".journal-header-center .journal-search")),Journal.itemsEqualHeight()},Journal.onTablet=function(){$(".journal-header-default .journal-search, .journal-header-menu .journal-search").after($(".journal-header-default .journal-cart, .journal-header-menu .journal-cart")),$(".journal-header-center .journal-links").after($(".journal-header-center .journal-language")),$(".journal-header-center").hasClass("journal-header-mega")||$(".journal-header-center .journal-search").after($(".journal-header-center .journal-logo")),Journal.setupMenu(Journal.mobileMenuOnTablet?"mobile":"tablet"),Journal.onMobileOrTablet(),$("html").removeClass("journal-mobile").addClass("journal-desktop"),Journal.itemsEqualHeight()},Journal.onDesktop=function(){$(".journal-header-default .journal-login, .journal-header-menu .journal-login").before($(".journal-header-default .journal-cart, .journal-header-menu .journal-cart")),$(".journal-header-center .journal-links").after($(".journal-header-center .journal-language")),$(".journal-header-center").hasClass("journal-header-mega")||$(".journal-header-center .journal-search").after($(".journal-header-center .journal-logo")),Journal.setupMenu("desktop"),$("html").removeClass("journal-mobile").addClass("journal-desktop"),$(".btn-group").unbind("click").unbind("hoverIntent").hoverIntent(function(){$(this).find("ul").fadeIn(150)},function(){$(this).find("ul").fadeOut(150)}),$("#cart > .heading a").die("click"),$("#cart").die("mouseleave").die("mouseover").die("mouseleave").die("click"),$("#cart").live("mouseover",function(){$("#cart").hasClass("active")||(Journal.isOC2||$("#cart").load("index.php?route=module/cart #cart > *"),$("#cart").addClass("active"),$("#cart").live("mouseleave",function(){$(this).removeClass("active")}))}),$("header").removeClass("sticky-off"),Journal.itemsEqualHeight()},Journal.enableStickyHeader=function(){return $("header").hasClass("journal-header-center")?($("header").sticky({topSpacing:-Journal.stickyTopSpacing}),void $(window).scroll(function(){$("html").hasClass("noscroll")||$("header").hasClass("sticky-off")||($(window).scrollTop()>40?$(".journal-header-center").addClass("sticky-header-center"):$(".journal-header-center").removeClass("sticky-header-center"))})):void(($("header").hasClass("journal-header-default")||$("header").hasClass("journal-header-menu"))&&($("header").sticky({topSpacing:0}),$(window).scroll(function(){$("html").hasClass("noscroll")||$("header").hasClass("sticky-off")||($(window).scrollTop()>80?($(".journal-header-default, .journal-header-menu").addClass("sticky-header"),$(".journal-header-default #header .journal-search, .journal-header-menu #header .journal-search").after($(".journal-header-default #header .journal-cart, .journal-header-menu #header .journal-cart"))):($(".journal-header-default, .journal-header-menu").removeClass("sticky-header"),$(".journal-header-default #header .journal-links, .journal-header-menu #header .journal-links").after($(".journal-header-default #header .journal-cart, .journal-header-menu #header .journal-cart"))))})))},Journal.enableSideBlocks=function(){$(".side-block-block.side-block-left .side-block-icon").hoverIntent(function(){var e=$(this).parent(),t=e.find(".side-block-content");t.hasClass("content-loaded")||t.load(t.attr("data-url")).addClass("content-loaded"),e.stop().animate({left:"0px"})}),$(".side-block-block.side-block-left .side-block-content").mouseleave(function(){var e=$(this).parent().width();$(this).parent().stop().animate({left:-e})}),$(".side-block-block.side-block-right .side-block-icon").hoverIntent(function(){var e=$(this).parent(),t=e.find(".side-block-content");t.hasClass("content-loaded")||t.load(t.attr("data-url")).addClass("content-loaded"),e.stop().animate({right:"0px"})}),$(".side-block-block.side-block-right .side-block-content").mouseleave(function(){var e=$(this).parent().width();$(this).parent().stop().animate({right:-e})})},Journal.enableSelectOptionAsButtonsList=function(){$(".push-select .option.option-select, .push-checkbox .option.option-checkbox, .push-radio .option.option-radio, .push-image .option.option-image").each(function(){var e=$(this),t="";t+="<ul>",e.hasClass("option-checkbox")||e.hasClass("option-radio")?e.find("input").each(function(){var e=$(this);if(e.val()){var a=Journal.isOC2?e.closest("label"):$('label[for="'+e.attr("id")+'"]');t+='<li data-value="'+e.val()+'"><span>'+a.text().trim()+"</span></li>"}}):e.hasClass("option-select")?e.find("option").each(function(){var e=$(this);e.val()&&(t+='<li data-value="'+e.val()+'"><span>'+e.text().trim()+"</span></li>")}):e.hasClass("option-image")&&e.find(Journal.isOC2?".radio":"tr").each(function(){var e=$(this),a=e.find("input"),i=Journal.isOC2?e.find("img").clone().wrap("<p />").parent():e.find("label");t+='<li class="hint--top" data-hint="'+e.find("img").attr("alt")+'" data-value="'+a.val()+'"><span>'+i.html()+"</span></li>"}),t+="</ul>",e.append($(t))}),$(".option-select li, .option-checkbox li, .option-radio li, .option-image li").click(function(){var e=$(this),t=e.closest(".option"),a=t.find('[value="'+e.attr("data-value")+'"]');if(t.hasClass("option-select")){var i=a.parent(),n=i.val()==e.attr("data-value")?"":e.attr("data-value");i.val(n),i.trigger("change")}else a.trigger("click");t.hasClass("option-select")?(t.find("[data-value]").removeClass("selected"),t.find('[data-value="'+t.find("select").val()+'"]').addClass("selected")):t.find("input").each(function(){var e=$(this),a=$(this).val();e.is(":checked")?t.find('[data-value="'+a+'"]').addClass("selected"):t.find('[data-value="'+a+'"]').removeClass("selected")}),Journal.updatePrice&&Journal.updateProductPrice()})},Journal.openPopup=function(module_id,product_id){product_id=product_id||void 0,$.magnificPopup.open({items:{src:"index.php?route=module/journal2_popup/show&module_id="+module_id+(product_id?"&product_id="+product_id:"")},closeOnContentClick:!1,closeOnBgClick:!1,mainClass:"quickview",type:"ajax",removalDelay:200,callbacks:{beforeClose:function(){$(".mfp-content").addClass("popup-close")},open:function(e){var t=$("html").scrollTop()?$("html").scrollTop():$("body").scrollTop();$("html").addClass("noscroll").css("top",-t),$("html").addClass("has-popup")},close:function(e){var t=parseInt($("html").css("top"));$("html").removeClass("noscroll"),$("html,body").scrollTop(-t),$("html").removeClass("has-popup")},parseAjax:function(response){try{response.data.indexOf('class="g-recaptcha"')&&$("head").append('<script src="https://www.google.com/recaptcha/api.js"></script>'),eval($("<div>"+response.data+"</div>").find('script[type="text/html"]').text())}catch(e){}}}},0)},Journal.newsletter=function(e){e.find(".newsletter-email").attr("disabled",!0),$.post("index.php?route=module/journal2_newsletter/subscribe",{email:e.find(".newsletter-email").val()},function(t){e.find(".newsletter-email").removeAttr("disabled"),"error"===t.status&&t.unsubscribe?confirm(t.message)&&$.post("index.php?route=module/journal2_newsletter/unsubscribe",{email:e.find(".newsletter-email").val()},function(t){alert(t.message),e.find(".newsletter-email").val("")},"json"):(alert(t.message),e.find(".newsletter-email").val("")),e.find(".newsletter-email").focus()},"json")},Journal.contact=function(e){var t=e.find(".journal-popup-footer .button");if(t.hasClass("disabled"))return!1;t.addClass("disabled");var a=e.find("form"),i=a.serializeArray();return i.push({name:"url",value:document.URL}),a.find("img").css("opacity","0.2"),$.post("index.php?route=module/journal2_popup/contact",i,function(e){if(t.removeClass("disabled"),"error"===e.status){a.find('input[name="captcha"]').val("");var i=a.find("img").attr("src");a.find("img").attr("src",i).css("opacity","1"),a.find(".has-error").removeClass("has-error"),$.each(e.error,function(e){"g-recaptcha"===e?a.find(".g-recaptcha").addClass("has-error"):a.find('[name="'+e+'"]').addClass("has-error")})}"success"===e.status&&(alert(e.message),a[0].reset(),$.magnificPopup.close())},"json"),!1},Journal.isOC2&&(cart.add=function(e,t){return!$(".hide-cart .outofstock a[onclick=\"cart.add('"+e+"');\"]").length&&void $.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"product_id="+e+"&quantity="+("undefined"!=typeof t?t:1),dataType:"json",beforeSend:function(){$("#cart > button > a > span").button("loading")},complete:function(){$("#cart > button > a > span").button("reset")},success:function(e){e.redirect&&(location=e.redirect),e.success&&(Journal.showNotification(e.success,e.image,!0)||($(".alert, .text-danger").remove(),$("#content").parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+e.success+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>')),setTimeout(function(){$("#cart-total").html(e.total)},100),Journal.scrollToTop&&$("html, body").animate({scrollTop:0},"slow"),$("#cart ul").load("index.php?route=common/cart/info ul li"))}})},cart.update=function(e,t){$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:"key="+e+"&quantity="+("undefined"!=typeof t?t:1),dataType:"json",beforeSend:function(){$("#cart > button > a > span").button("loading")},complete:function(){$("#cart > button > a > span").button("reset")},success:function(e){setTimeout(function(){$("#cart-total").html(e.total)},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart ul").load("index.php?route=common/cart/info ul li")}})},cart.remove=function(e){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+e,dataType:"json",beforeSend:function(){$("#cart > button > a > span").button("loading")},complete:function(){$("#cart > button > a > span").button("reset")},success:function(e){setTimeout(function(){$("#cart-total").html(e.total)},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart ul").load("index.php?route=common/cart/info ul li")}})},voucher.remove=function(e){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+e,dataType:"json",beforeSend:function(){$("#cart > button > a > span").button("loading")},complete:function(){$("#cart > button > a > span").button("reset")},success:function(e){setTimeout(function(){$("#cart-total").html(e.total)},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart ul").load("index.php?route=common/cart/info ul li")},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})}),Journal.isOC2&&(wishlist.add=function(e){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+e,dataType:"json",success:function(e){e.success&&(Journal.showNotification(e.success,e.image)||($(".alert").remove(),$("#content").parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+e.success+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'))),e.info&&(Journal.showNotification(e.info,e.image)||$("#content").parent().before('<div class="alert alert-info"><i class="fa fa-info-circle"></i> '+e.info+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'));try{$(".wishlist-total .product-count").html(e.total.match(/\(\d+\)/g)[0].replace("(","").replace(")",""))}catch(e){}Journal.scrollToTop&&$("html, body").animate({scrollTop:0},"slow")}})}),Journal.isOC2&&(compare.add=function(e){$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+e,dataType:"json",success:function(e){e.success&&(Journal.showNotification(e.success,e.image)||($(".alert").remove(),$("#content").parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+e.success+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>')),$("#compare-total").html(e.total),$(".compare-total .product-count").html(e.total.match(/\(\d+\)/g)[0].replace("(","").replace(")","")),Journal.scrollToTop&&$("html, body").animate({scrollTop:0},"slow"))}})}),Journal.SuperFilter={},Journal.SuperFilter.firstLoad=!0,Journal.SuperFilter.init=function(e){e.find(".sf-reset").live("click",function(){Journal.SuperFilter.reset(e)}),e.find('input[type="checkbox"]').live("click",function(){var t=$(this).closest(".box");t.hasClass("sf-single")&&t.find('input[type="checkbox"]').not($(this)).removeAttr("checked"),setTimeout(function(){Journal.SuperFilter.filter(e)},1)}),$.address.change(function(t){(!Journal.SuperFilter.firstLoad||Journal.SuperFilter.firstLoad&&$(location).attr("hash").replace("#/","").replace("#",""))&&Journal.SuperFilter.doFilter(e,t.value),Journal.SuperFilter.firstLoad=!1}),$(function(){$(".sort select, .limit select").removeAttr("onchange").live("change",function(t){return Journal.SuperFilter.filter(e),!1}),$(".pagination").removeClass("hide"),$(".pagination .links a").live("click",function(t){return e.find(".sf-page").val($(this).attr("href").split("page=")[1]),Journal.SuperFilter.filter(e),$("html, body").animate({scrollTop:0},700),!1})}),Journal.SuperFilter.priceSlider(e)},Journal.SuperFilter.reset=function(e){var t=window.location.href;t=t.split("#"),window.location.href=t[0]},Journal.SuperFilter.filter=function(e){var t={};e.find(".box").not(".sf-tags").not(".sf-availability").find("input:checked").each(function(){var e=$(this).attr("name");t[e]=t[e]||{name:e,group:e.replace(/\D/g,""),filters:[]},t[e].filters.push({keyword:$(this).attr("data-keyword"),value:$(this).val()})});var a=[];for(var i in t){var n=[],o=[],r=t[i].name[0],l=t[i].group;for(var s in t[i].filters)n.push(t[i].filters[s].keyword),o.push(t[i].filters[s].value);a.push(n.join(",")+"-"+(l?""+r+l+"-v":r)+o.join(","))}var c=[];e.find(".sf-tags").find("input:checked").each(function(){c.push($(this).val())}),c.length&&a.push(c.join(",")+"-tags");var u=[];if(e.find(".sf-availability").find("input:checked").each(function(){u.push($(this).val())}),u.length&&a.push("availability="+u.join(",")),$(".sort").length>0){var d=$(".sort select option:selected").val().split("sort=")[1].split("&");a.push("sort="+d[0]),a.push("order="+d[1].replace("order=",""))}if($(".limit").length>0&&a.push("limit="+$(".limit select option:selected").text()),e.find(".sf-price").length>0)if(e.find(".sf-price").hasClass("sf-input"))a.push("minPrice="+e.find(".min-price").val()),a.push("maxPrice="+e.find(".max-price").val());else{var p=e.find(".sf-price"),h=e.find(".sf-price .slider").attr("data-min")||e.find(".sf-price .slider").attr("data-min-value"),f=e.find(".sf-price .slider").attr("data-max")||e.find(".sf-price .slider").attr("data-max-value");h&&f&&(h!=p.attr("data-min-price")||f!=p.attr("data-max-price"))&&(a.push("minPrice="+h),a.push("maxPrice="+f))}var m=e.find(".sf-page").val();m&&a.push("page="+m),$.address.value(a.join("/"))},Journal.SuperFilter.doFilter=function(e,t){var a={filters:t,route:e.attr("data-route"),path:e.attr("data-path"),full_path:e.attr("data-full_path"),manufacturer_id:e.attr("data-manufacturer"),search:e.attr("data-search"),tag:e.attr("data-tag")};"product/search"===e.attr("data-route")&&(a.category_id=e.attr("data-category_id"),a.sub_category=e.attr("data-sub_category")),$("input#description").length&&(a.description=$("input#description").is(":checked")?1:0),$(".pagination").addClass("hide"),$(".sf-loader").remove(),$(".main-products.product-list, .main-products.product-grid").append('<div class="sf-loader"><span>'+e.attr("data-loading-text")+"</span></div>"),$.ajax({url:e.attr("data-filters-action"),type:"post",async:!1,data:a,success:function(a){e.html($(a.replace(/\n/g," ")).html()),Journal.SuperFilter.setFilters(e,t)}}),$.ajax({url:e.attr("data-products-action"),type:"post",data:a,success:function(e){var t=$("<div>"+e.replace(/\n/g," ")+"</div>");$(".main-products.product-list, .main-products.product-grid").html(t.find(".product-list").html()),0==$(".product-list").length&&0==$(".product-grid").length&&$("#content .content:eq(1)").replaceWith(t.html()),$(".pagination").length>0?$(".pagination").html(t.find(".pagination").html()):($(".pagination").after(t.find(".pagination").html()),$(".pagination").after(t.find(".pagination").html())),$(".pagination").removeClass("hide"),setTimeout(function(){Journal.quickViewStatus&&Journal.enableQuickView(),$(".main-products .product-grid-item .image > a").prepend('<div class="p-over p-grid-over"> </div>'),$(".main-products .product-list-item .image > a").prepend('<div class="p-over p-list-over"> </div>')},1),Journal.SuperFilter.setNavigation(),"never"!==t.find(".product-filter").attr("data-countdown")&&Journal.enableCountdown()}})},Journal.SuperFilter.setFilters=function(e,t){var a=/-c(((\d+)(,*))+)$/,i=/-m(((\d+)(,*))+)$/,n=/-a(\d*)-v/,o=/-o(\d*)-v/,r=/(.+)-tags/,l=/availability=(.+)/,s=null,c=null,u=Math.floor(parseFloat(e.find(".sf-price").attr("data-min-price"))),d=Math.ceil(parseFloat(e.find(".sf-price").attr("data-max-price")));$.each(t.split("/"),function(t,p){if(a.test(p)){var h=p.split(a);return void $.each(h[1].split(","),function(t,a){e.find('.sf-category input[value="'+a+'"]').attr("checked","checked")})}if(i.test(p)){var h=p.split(i);return void $.each(h[1].split(","),function(t,a){e.find('.sf-manufacturer input[value="'+a+'"]').attr("checked","checked")})}if(n.test(p)){var h=p.split(n);return void $.each(h[2].split(","),function(t,a){e.find(".sf-attribute-"+h[1]+' input[value="'+a+'"]').attr("checked","checked")})}if(o.test(p)){var h=p.split(o);return void $.each(h[2].split(","),function(t,a){e.find(".sf-option-"+h[1]+' input[value="'+a+'"]').attr("checked","checked")})}if(r.test(p)){var h=p.split(r);return void $.each(h[1].split(","),function(t,a){e.find('.sf-tags input[value="'+a+'"]').attr("checked","checked")})}if(l.test(p)){var h=p.split(l);return void $.each(h[1].split(","),function(t,a){e.find('.sf-availability input[value="'+a+'"]').attr("checked","checked");
})}return p.indexOf("limit=")!==-1?void $('.limit select option[value$="'+p+'"]').attr("selected","selected"):p.indexOf("sort=")!==-1?void(s=p):p.indexOf("order=")!==-1?void(c=p):p.indexOf("minPrice=")!==-1?void(u=p.replace("minPrice=","")):p.indexOf("maxPrice=")!==-1?void(d=p.replace("maxPrice=","")):void 0}),$('.sort select option[value$="'+s+"&"+c+'"]').attr("selected","selected"),u&&d&&(e.find(".sf-price").hasClass("sf-input")?(e.find(".min-price").val(u),e.find(".max-price").val(d)):(e.find(".slider").attr("data-min-value",u),e.find(".slider").attr("data-max-value",d))),setTimeout(function(){Journal.SuperFilter.priceSlider(e)},0),e.find("input:checked").each(function(){$(this).closest("label").addClass("sf-checked")})},Journal.SuperFilter.collision=function(e,t){if(!e.length||t.length)return!1;var a=e.offset().left,i=40,n=a+i,o=t.offset().left,r=40,l=o+r;return!(n<o||a>l)},Journal.SuperFilter.price=function(e,t){var a=e.attr("data-currency-left"),i=e.attr("data-currency-right"),n=e.attr("data-currency-decimal"),o=e.attr("data-currency-thousand");return t=t.toString().replace(".",n).replace(/\B(?=(\d{3})+(?!\d))/g,o),a?a+t:t+i},Journal.SuperFilter.priceSlider=function(e){return e.find(".sf-price").hasClass("sf-input")?(e.find(".price-filter-button").click(function(){Journal.SuperFilter.filter(e)}),void e.find(".min-price,.max-price").keydown(function(t){13==t.keyCode&&Journal.SuperFilter.filter(e)})):(e.find(".slider").slider({range:!0,min:Math.floor(parseFloat(e.find(".sf-price").attr("data-min-price"))),max:Math.ceil(parseFloat(e.find(".sf-price").attr("data-max-price"))),values:[parseFloat(e.find(".slider").attr("data-min-value")),parseFloat(e.find(".slider").attr("data-max-value"))],slide:function(t,a){$(".ui-slider-handle:eq(0) .price-range-min").html(Journal.SuperFilter.price(e,a.values[0])),$(".ui-slider-handle:eq(1) .price-range-max").html(Journal.SuperFilter.price(e,a.values[1])),$(".price-range-both").html("<i>"+Journal.SuperFilter.price(e,a.values[0])+" - </i>"+Journal.SuperFilter.price(e,a.values[1])),a.values[0]==a.values[1]?$(".price-range-both i").css("display","none"):$(".price-range-both i").css("display","inline"),1==Journal.SuperFilter.collision($(".price-range-min"),$(".price-range-max"))?($(".price-range-min, .price-range-max").css("opacity","0"),$(".price-range-both").css("display","block")):($(".price-range-min, .price-range-max").css("opacity","1"),$(".price-range-both").css("display","none"))},change:function(t,a){$(this).attr("data-min",a.values[0]),$(this).attr("data-max",a.values[1]),Journal.SuperFilter.filter(e)},create:function(){$(".ui-slider-range").append('<span class="price-range-both value"><i>'+Journal.SuperFilter.price(e,e.find(".slider").slider("values",0))+" - </i>"+Journal.SuperFilter.price(e,e.find(".slider").slider("values",1))+"</span>"),$(".ui-slider-handle:eq(0)").append('<span class="price-range-min value">'+Journal.SuperFilter.price(e,e.find(".slider").slider("values",0))+"</span>"),$(".ui-slider-handle:eq(1)").append('<span class="price-range-max value">'+Journal.SuperFilter.price(e,e.find(".slider").slider("values",1))+"</span>")}}),$(".price-range-min").html()===$(".price-range-max").html()?$(".price-range-both i").css("display","none"):$(".price-range-both i").css("display","inline"),void(1==Journal.SuperFilter.collision($(".price-range-min"),$(".price-range-max"))?($(".price-range-min, .price-range-max").css("opacity","0"),$(".price-range-both").css("display","block")):($(".price-range-min, .price-range-max").css("opacity","1"),$(".price-range-both").css("display","none"))))},Journal.SuperFilter.setNavigation=function(){$(".sort select, .limit select").removeAttr("onchange"),Journal.applyView()},Journal.countdown=function(e,t){e.countdown({date:t,render:function(e){return $(this.el).html("<span>"+e.days+" <div>"+Journal.COUNTDOWN.DAYS+"</div></span> <span>"+this.leadingZeros(e.hours)+" <div>"+Journal.COUNTDOWN.HOURS+"</div></span> <span> "+this.leadingZeros(e.min)+" <div>"+Journal.COUNTDOWN.MINUTES+"</div></span> <span> "+this.leadingZeros(e.sec)+" <div>"+Journal.COUNTDOWN.SECONDS+"</div> </span>")}})},Journal.enableCountdown=function(){$(".main-products > div").each(function(){var e=$(this).find(".price-new");e.length&&e.attr("data-end-date")&&$(this).find(".image").append('<div class="countdown"></div>'),Journal.countdown($(this).find(".countdown"),e.attr("data-end-date"))})},Journal.blogSearch=function(e,t){e.find("a").click(function(){var a=encodeURIComponent(e.find("input").val());return!!a&&void(parent.window.location=t+a)}),e.find("input").keydown(function(a){if(13==a.keyCode){var i=encodeURIComponent(e.find("input").val());if(!i)return!1;parent.window.location=t+i}})},Journal.gridView=function(){var e=$(".main-products").removeClass("product-list").addClass("product-grid").attr("data-grid-classes");$(".main-products > div").each(function(){$(this).attr("class","product-grid-item "+e)}),$(".product-thumb").addClass("product-wrapper"),Journal.equalHeight($(".product-thumb.product-wrapper"),".description"),$(".display .grid-view").addClass("active"),$(".display .list-view").removeClass("active"),localStorage.setItem("display","grid")},Journal.listView=function(){$(".main-products").removeClass("product-grid").addClass("product-list"),$(".main-products > div").each(function(){$(this).attr("class","product-list-item xs-100 sm-100 md-100 lg-100 xl-100")}),$(".product-thumb").removeClass("product-wrapper"),$(".display .grid-view").removeClass("active"),$(".display .list-view").addClass("active"),localStorage.setItem("display","list")},Journal.applyView=function(e){if(Journal.isOC2){var t=localStorage.getItem("display")||e;"list"==t?Journal.listView():Journal.gridView(),$("ul.pagination").removeClass("pagination")}else display($.totalStorage("display")||e);Journal.equalHeight($(".main-products .product-wrapper"),".name")},$(document).ready(function(){$(".super-menu > li").each(function(e){$(this).addClass("main-menu-item-"+(e+1))}),$(".journal-links .links > a").each(function(e){$(this).addClass("top-menu-item-"+(e+1))}),$(".journal-secondary .links > a").each(function(e){$(this).addClass("secondary-menu-item-"+(e+1))}),$(".btn").click(function(){$(".tooltip").css("visibility","hidden")})});